import { expect, test, describe } from 'bun:test';
import { countPaths } from '../src/1976-number-of-ways-to-arrive-at-destination';

describe(countPaths.name, () => {
  test('A', () => {
    const n = 7;
    const roads = [
      [0, 6, 7],
      [0, 1, 2],
      [1, 2, 3],
      [1, 3, 3],
      [6, 3, 3],
      [3, 5, 1],
      [6, 5, 1],
      [2, 5, 1],
      [0, 4, 5],
      [4, 6, 2],
    ];
    const res = countPaths(n, roads);
    expect(res).toBe(4);
  });

  test('B', () => {
    const n = 2;
    const roads = [[1, 0, 10]];
    const res = countPaths(n, roads);
    expect(res).toBe(1);
  });

  test('C', () => {
    const n = 45;
    const roads = [
      [1, 0, 8703],
      [1, 2, 1515],
      [2, 0, 10218],
      [3, 2, 1826],
      [4, 2, 8651],
      [4, 0, 18869],
      [3, 4, 6825],
      [1, 4, 10166],
      [1, 5, 17585],
      [5, 2, 16070],
      [4, 5, 7419],
      [0, 5, 26288],
      [6, 2, 13483],
      [6, 0, 23701],
      [4, 6, 4832],
      [6, 1, 14998],
      [6, 3, 11657],
      [7, 1, 3778],
      [8, 3, 15884],
      [6, 8, 4227],
      [8, 2, 17710],
      [4, 8, 9059],
      [0, 8, 27928],
      [7, 8, 15447],
      [8, 5, 1640],
      [5, 9, 2341],
      [9, 7, 16148],
      [9, 1, 19926],
      [6, 9, 4928],
      [0, 9, 28629],
      [9, 4, 9760],
      [2, 9, 18411],
      [5, 10, 7203],
      [4, 10, 14622],
      [11, 0, 33594],
      [11, 9, 4965],
      [8, 11, 5666],
      [11, 1, 24891],
      [10, 11, 103],
      [11, 3, 21550],
      [7, 11, 21113],
      [0, 12, 36067],
      [4, 12, 17198],
      [8, 12, 8139],
      [3, 12, 24023],
      [9, 12, 7438],
      [12, 6, 12366],
      [10, 12, 2576],
      [5, 12, 9779],
      [12, 1, 27364],
      [12, 7, 23586],
      [0, 13, 38001],
      [12, 13, 1934],
      [1, 13, 29298],
      [13, 7, 25520],
      [5, 13, 11713],
      [10, 13, 4510],
      [3, 13, 25957],
      [13, 11, 4407],
      [13, 2, 27783],
      [3, 14, 29978],
      [6, 14, 18321],
      [14, 0, 42022],
      [7, 14, 29541],
      [14, 5, 15734],
      [8, 14, 14094],
      [14, 9, 13393],
      [2, 14, 31804],
      [14, 13, 4021],
      [14, 1, 33319],
      [10, 14, 8531],
      [11, 14, 8428],
      [15, 8, 20790],
      [15, 2, 38500],
      [7, 15, 36237],
      [10, 15, 15227],
      [15, 9, 20089],
      [3, 15, 36674],
      [15, 14, 6696],
      [15, 13, 10717],
      [6, 15, 25017],
      [1, 15, 40015],
      [11, 15, 15124],
      [12, 15, 12651],
      [16, 1, 40193],
      [15, 16, 178],
      [16, 9, 20267],
      [16, 6, 25195],
      [16, 3, 36852],
      [14, 16, 6874],
      [16, 8, 20968],
      [0, 16, 48896],
      [1, 17, 40906],
      [17, 11, 16015],
      [2, 17, 39391],
      [17, 4, 30740],
      [17, 15, 891],
      [17, 10, 16118],
      [18, 5, 30228],
      [1, 18, 47813],
      [16, 18, 7620],
      [0, 18, 56516],
      [17, 19, 9061],
      [19, 14, 16648],
      [19, 4, 39801],
      [15, 19, 9952],
      [2, 19, 48452],
      [13, 19, 20669],
      [6, 19, 34969],
      [19, 3, 46626],
      [12, 19, 22603],
      [0, 19, 58670],
      [7, 19, 46189],
      [19, 10, 25179],
      [11, 19, 25076],
      [19, 1, 49967],
      [19, 8, 30742],
      [9, 19, 30041],
      [19, 5, 32382],
      [11, 20, 23751],
      [20, 14, 15323],
      [3, 20, 45301],
      [20, 5, 31057],
      [0, 20, 57345],
      [4, 20, 38476],
      [20, 18, 829],
      [7, 20, 44864],
      [20, 13, 19344],
      [8, 20, 29417],
      [16, 20, 8449],
      [2, 20, 47127],
      [20, 6, 33644],
      [20, 9, 28716],
      [1, 20, 48642],
      [21, 7, 53945],
      [2, 21, 56208],
      [15, 21, 17708],
      [21, 6, 42725],
      [21, 5, 40138],
      [19, 21, 7756],
      [20, 21, 9081],
      [17, 21, 16817],
      [21, 3, 54382],
      [21, 4, 47557],
      [21, 16, 17530],
      [21, 18, 9910],
      [21, 8, 38498],
      [1, 22, 60162],
      [7, 22, 56384],
      [22, 8, 40937],
      [16, 22, 19969],
      [2, 22, 58647],
      [22, 20, 11520],
      [5, 22, 42577],
      [21, 22, 2439],
      [22, 6, 45164],
      [22, 11, 35271],
      [22, 9, 40236],
      [18, 22, 12349],
      [22, 13, 30864],
      [22, 10, 35374],
      [22, 15, 20147],
      [3, 22, 56821],
      [22, 0, 68865],
      [22, 17, 19256],
      [22, 4, 49996],
      [22, 19, 10195],
      [14, 22, 26843],
      [23, 12, 32806],
      [23, 0, 68873],
      [8, 23, 40945],
      [23, 6, 45172],
      [23, 15, 20155],
      [5, 23, 42585],
      [10, 23, 35382],
      [13, 23, 30872],
      [16, 23, 19977],
      [21, 23, 2447],
      [23, 2, 58655],
      [11, 23, 35279],
      [23, 22, 8],
      [23, 1, 60170],
      [24, 23, 1744],
      [24, 20, 13272],
      [24, 8, 42689],
      [24, 7, 58136],
      [17, 24, 21008],
      [24, 18, 14101],
      [15, 24, 21899],
      [24, 16, 21721],
      [12, 24, 34550],
      [24, 11, 37023],
      [24, 9, 41988],
      [24, 19, 11947],
      [24, 6, 46916],
      [13, 24, 32616],
      [24, 14, 28595],
      [2, 24, 60399],
      [24, 3, 58573],
      [24, 10, 37126],
      [1, 24, 61914],
      [24, 0, 70617],
      [24, 4, 51748],
      [24, 5, 44329],
      [4, 25, 55355],
      [25, 17, 24615],
      [25, 8, 46296],
      [25, 22, 5359],
      [0, 25, 74224],
      [25, 14, 32202],
      [23, 25, 5351],
      [24, 25, 3607],
      [25, 10, 40733],
      [20, 25, 16879],
      [20, 26, 18382],
      [26, 22, 6862],
      [26, 12, 39660],
      [26, 11, 42133],
      [3, 26, 63683],
      [26, 6, 52026],
      [7, 26, 63246],
      [15, 26, 27009],
      [26, 8, 47799],
      [4, 26, 56858],
      [2, 26, 65509],
      [25, 26, 1503],
      [18, 27, 20218],
      [27, 15, 28016],
      [5, 27, 50446],
      [16, 27, 27838],
      [27, 17, 27125],
      [12, 27, 40667],
      [27, 4, 57865],
      [7, 27, 64253],
      [11, 27, 43140],
      [27, 26, 1007],
      [28, 9, 49176],
      [17, 28, 28196],
      [23, 28, 8932],
      [28, 1, 69102],
      [20, 28, 20460],
      [8, 28, 49877],
      [19, 28, 19135],
      [12, 28, 41738],
      [13, 28, 39804],
      [28, 11, 44211],
      [28, 4, 58936],
      [21, 28, 11379],
      [10, 28, 44314],
      [15, 28, 29087],
      [5, 28, 51517],
      [4, 29, 8711],
      [1, 30, 64375],
      [13, 30, 35077],
      [30, 14, 31056],
      [30, 18, 16562],
      [17, 30, 23469],
      [30, 0, 73078],
      [22, 30, 4213],
      [30, 3, 61034],
      [30, 6, 49377],
      [5, 30, 46790],
      [30, 10, 39587],
      [30, 9, 44449],
      [4, 30, 54209],
      [30, 29, 45498],
      [24, 30, 2461],
      [31, 0, 82820],
      [31, 2, 72602],
      [11, 31, 49226],
      [31, 28, 5015],
      [10, 31, 49329],
      [9, 31, 54191],
      [5, 31, 56532],
      [31, 7, 70339],
      [31, 8, 54892],
      [22, 31, 13955],
      [23, 32, 23216],
      [32, 12, 56022],
      [32, 3, 80045],
      [22, 32, 23224],
      [20, 32, 34744],
      [32, 16, 43193],
      [15, 32, 43371],
      [32, 27, 15355],
      [30, 32, 19011],
      [32, 2, 81871],
      [32, 10, 58598],
      [11, 32, 58495],
      [28, 32, 14284],
      [31, 32, 9269],
      [24, 32, 21472],
      [7, 32, 79608],
      [8, 32, 64161],
      [9, 32, 63460],
      [32, 0, 92089],
      [32, 4, 73220],
      [25, 32, 17865],
      [32, 29, 64509],
      [32, 1, 83386],
      [32, 19, 33419],
      [33, 9, 71186],
      [18, 33, 43299],
      [30, 33, 26737],
      [33, 0, 99815],
      [33, 31, 16995],
      [19, 33, 41145],
      [17, 33, 50206],
      [11, 33, 66221],
      [33, 8, 71887],
      [27, 33, 23081],
      [6, 33, 76114],
      [24, 33, 29198],
      [2, 33, 89597],
      [33, 15, 51097],
      [33, 16, 50919],
      [28, 33, 22010],
      [33, 12, 63748],
      [33, 23, 30942],
      [1, 33, 91112],
      [33, 32, 7726],
      [7, 33, 87334],
      [33, 29, 72235],
      [33, 21, 33389],
      [33, 13, 61814],
      [33, 4, 80946],
      [14, 34, 59520],
      [30, 34, 28464],
      [34, 23, 32669],
      [34, 16, 52646],
      [8, 34, 73614],
      [34, 26, 25815],
      [34, 5, 75254],
      [34, 20, 44197],
      [34, 27, 24808],
      [29, 34, 73962],
      [34, 17, 51933],
      [34, 9, 72913],
      [34, 24, 30925],
      [34, 21, 35116],
      [34, 1, 92839],
      [34, 15, 52824],
      [34, 32, 9453],
      [6, 35, 83843],
      [35, 30, 34466],
      [31, 35, 24724],
      [0, 35, 107544],
      [3, 35, 95500],
      [35, 20, 50199],
      [7, 35, 95063],
      [35, 10, 74053],
      [25, 35, 33320],
      [35, 12, 71477],
      [28, 35, 29739],
      [16, 35, 58648],
      [35, 32, 15455],
      [21, 35, 41118],
      [34, 35, 6002],
      [15, 35, 58826],
      [35, 18, 51028],
      [24, 35, 36927],
      [35, 1, 98841],
      [22, 35, 38679],
      [35, 8, 79616],
      [35, 5, 81256],
      [9, 35, 78915],
      [35, 23, 38671],
      [35, 14, 65522],
      [4, 35, 88675],
      [2, 35, 97326],
      [35, 13, 69543],
      [26, 35, 31817],
      [35, 19, 48874],
      [11, 35, 73950],
      [36, 8, 2885],
      [37, 23, 40250],
      [37, 36, 78310],
      [20, 37, 51778],
      [37, 28, 31318],
      [37, 19, 50453],
      [25, 37, 34899],
      [37, 17, 59514],
      [37, 18, 52607],
      [37, 3, 97079],
      [37, 33, 9308],
      [24, 37, 38506],
      [34, 37, 7581],
      [37, 9, 80494],
      [6, 37, 85422],
      [27, 37, 32389],
      [5, 37, 82835],
      [4, 37, 90254],
      [37, 0, 109123],
      [32, 37, 17034],
      [10, 37, 75632],
      [2, 37, 98905],
      [12, 37, 73056],
      [38, 24, 45443],
      [23, 38, 47187],
      [3, 38, 104016],
      [38, 14, 74038],
      [38, 1, 107357],
      [38, 30, 42982],
      [38, 36, 85247],
      [12, 38, 79993],
      [15, 38, 67342],
      [37, 38, 6937],
      [11, 38, 82466],
      [38, 22, 47195],
      [32, 38, 23971],
      [34, 38, 14518],
      [38, 9, 87431],
      [38, 29, 88480],
      [38, 8, 88132],
      [0, 38, 116060],
      [17, 38, 66451],
      [7, 38, 103579],
      [33, 38, 16245],
      [38, 31, 33240],
      [38, 19, 57390],
      [5, 38, 89772],
      [38, 18, 59544],
      [38, 35, 8516],
      [38, 4, 97191],
      [38, 6, 92359],
      [38, 21, 49634],
      [38, 25, 41836],
      [16, 38, 67164],
      [38, 28, 38255],
      [38, 20, 58715],
      [27, 38, 39326],
      [39, 13, 3704],
      [34, 40, 2628],
      [40, 14, 62148],
      [40, 25, 29946],
      [40, 18, 47654],
      [15, 40, 55452],
      [29, 41, 90056],
      [41, 27, 40902],
      [35, 41, 10092],
      [41, 7, 105155],
      [3, 41, 105592],
      [36, 41, 86823],
      [21, 41, 51210],
      [32, 41, 25547],
      [41, 18, 61120],
      [41, 4, 98767],
      [16, 41, 68740],
      [34, 41, 16094],
      [9, 41, 89007],
      [0, 41, 117636],
      [41, 11, 84042],
      [37, 41, 8513],
      [41, 42, 5457],
      [32, 42, 31004],
      [10, 42, 89602],
      [42, 24, 52476],
      [42, 0, 123093],
      [42, 19, 64423],
      [42, 38, 7033],
      [30, 42, 50015],
      [14, 42, 81071],
      [29, 42, 95513],
      [27, 42, 46359],
      [6, 42, 99392],
      [4, 42, 104224],
      [42, 17, 73484],
      [37, 42, 13970],
      [42, 35, 15549],
      [42, 2, 112875],
      [13, 42, 85092],
      [42, 34, 21551],
      [36, 42, 92280],
      [9, 42, 94464],
      [43, 18, 46881],
      [43, 33, 3582],
      [44, 7, 112487],
      [44, 1, 116265],
      [44, 43, 21571],
      [37, 44, 15845],
      [14, 44, 82946],
      [44, 23, 56095],
      [12, 44, 88901],
      [44, 21, 58542],
      [34, 44, 23426],
      [44, 10, 91477],
      [24, 44, 54351],
      [35, 44, 17424],
      [36, 44, 94155],
      [44, 27, 48234],
      [44, 6, 101267],
      [31, 44, 42148],
      [18, 44, 68452],
      [13, 44, 86967],
      [44, 28, 47163],
      [32, 44, 32879],
      [3, 44, 112924],
      [25, 44, 50744],
      [44, 11, 91374],
      [44, 42, 1875],
      [44, 19, 66298],
    ];
    const ans = countPaths(n, roads);
    expect(ans).toBe(34384435);
  });
});
